import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{r as n,o as t,c as s,d as e,e as i,b as a,w as r,f as o}from"./app-080a317b.js";const h="/assets/image/houzzkit_docker_package_make/custom_install_portainer_1.jpg",u="/assets/image/houzzkit_docker_package_make/custom_install_portainer_2.jpg",p={},_=o('<h2 id="简述" tabindex="-1"><a class="header-anchor" href="#简述" aria-hidden="true">#</a> 简述</h2><p>在HOUZZkit OS系统中，可以通过各种方式安装并使用Docker容器类应用。具体方式包括从应用商店直接下载，通过自定义安装填写表单安装，导入开发者分享的hdp(HOUZZkit Docker Package)安装包安装。</p><p>本文主要介绍，创建hdp安装包的具体方法。</p><p>hdp包不仅定义了docker容器启动需要的所有参数，更重要的是允许开发者自由定义Docker容器启动前后的各种可执行逻辑，可以通过表单，显性的和使用者进行交互。</p><p>比如，我们要制作一个Zigbee2MQTT的安装包。为了让Z2M能正常运行，需要配置MQTT服务器的地址，需要定义Zigbee网关的硬件定制，需要在Z2M配置文件里创建具体的配置信息，需要在HA里安装MQTT集成并配置。这些过程全部都可以通过hdp包所定义的相关机制实现。作为用户，只需要填写简单的MQTT服务器地址，剩下的工作全部由hdp包中的脚本完成。</p><p>再比如，HOUZZkit OS 由于追求稳定性的各种考量，应用商店中的应用版本要落后于应用的最新版本。假如用户需要使用最新版本的HomeAssistant，只需要导入开发者制作的第三方包，即可轻松安装并使用最新的HomeAssistant应用。</p><h2 id="安装包制作步骤-基础" tabindex="-1"><a class="header-anchor" href="#安装包制作步骤-基础" aria-hidden="true">#</a> 安装包制作步骤（基础）</h2><h3 id="定义docker容器的基本信息" tabindex="-1"><a class="header-anchor" href="#定义docker容器的基本信息" aria-hidden="true">#</a> 定义Docker容器的基本信息</h3><ol><li>打开<code>应用商店</code>-<code>自定义安装 </code></li><li>填写待安装镜像的相关信息</li><li>点击右下角<code>安装</code>按钮</li></ol>',9),m={class:"hint-container tip"},v=e("p",{class:"hint-container-title"},"参考",-1),k=o(`<p>例如，自定义安装一个Docker管理工具，Portainer。<br> 打开自定义安装，填入以下内容：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>镜像名称：
  portainer/portainer-ce
Docker镜像版本：
  linux-arm64-2.19.5
应用名称:
  Portainer
容器主机名:
  portainer
Web UI:
  9000
端口：
  主机：9000  容器：9000
卷：
  主机：/var/run/docker.sock    容器：/var/run/docker.sock
  主机：/var/data/portainer     容器：/data
应用图标：
  自己上传任意尺寸大于96*96像素的图片

其他表单保持默认即可
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>填好后如下：<br><img src="`+h+'" alt="安装Portainer的表单示例" loading="lazy"></p><p>点击<code>安装</code>按钮，可以在HOS桌面上看到安装过程动画</p><figure><img src="'+u+'" alt="Portainer安装过程" tabindex="0" loading="lazy"><figcaption>Portainer安装过程</figcaption></figure><p>根据网络状态，等待几十秒到几分钟不等，应用安装完毕，并自动启动。</p><h3 id="导出包" tabindex="-1"><a class="header-anchor" href="#导出包" aria-hidden="true">#</a> 导出包</h3><p>当应用能够正常启动后，右键点击图标，开启导出安装包向导。</p><p>表单字段含义如下：</p><h4 id="bundle-id" tabindex="-1"><a class="header-anchor" href="#bundle-id" aria-hidden="true">#</a> Bundle ID</h4><p><code>必填项</code></p><ul><li>安装包的唯一性标识，Bundle ID 一样，则认为是同一个应用。</li><li>BundleID由三部分组成，com、镜像名称、和自定义部分。三段之间用<code>.</code>相连。其中镜像名称，如果包含<code>/</code>，则用<code>.</code>替换。</li><li>自定义部分可以由导出者指定，只可以输入数字和英文大小写字母。</li></ul><h4 id="安装包版本" tabindex="-1"><a class="header-anchor" href="#安装包版本" aria-hidden="true">#</a> 安装包版本</h4><p><code>必填项</code></p><ul><li>用于指定安装包的版本号。注意这里的版本号指导出包的版本号，和镜像版本无关。</li></ul><h4 id="应用描述" tabindex="-1"><a class="header-anchor" href="#应用描述" aria-hidden="true">#</a> 应用描述</h4><p><code>必填项</code></p><ul><li>用于指定，右键点击应用图标，选择<code>信息</code>后，显示的内容。</li><li>文本内容遵循 markdown 格式。</li></ul><h4 id="修改内容" tabindex="-1"><a class="header-anchor" href="#修改内容" aria-hidden="true">#</a> 修改内容</h4><p><code>必填项</code></p><ul><li>用于指定此次导出包，进行了哪些配置信息的修改。</li><li>此内容会记录于导出包的<code>update.log</code>文件内。</li></ul><h4 id="创建者-修改人" tabindex="-1"><a class="header-anchor" href="#创建者-修改人" aria-hidden="true">#</a> 创建者/修改人</h4><p><code>必填项</code></p><ul><li>基于自定义安装应用的导出安装包，此处显示创建人。</li><li>基于导入安装应用、应用商店安装应用的导出安装包，此处显示修改人。</li></ul><h4 id="创建人-修改人发布链接" tabindex="-1"><a class="header-anchor" href="#创建人-修改人发布链接" aria-hidden="true">#</a> 创建人/修改人发布链接</h4><p><code>选填项</code></p><ul><li>填入后，点击创建者/修改人的名称，会跳转到此链接。</li></ul><h4 id="开源协议" tabindex="-1"><a class="header-anchor" href="#开源协议" aria-hidden="true">#</a> 开源协议</h4><p><code>必填项</code></p>',29),b=e("li",null,"指定此包以哪种开源协议进行分享和传播。",-1),f=e("li",null,"导出包后，会生成对应协议的LICENSE文件。",-1),g={href:"https://choosealicense.com/",target:"_blank",rel:"noopener noreferrer"},x=e("h3",{id:"制作包含自定义配置的hdp包",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#制作包含自定义配置的hdp包","aria-hidden":"true"},"#"),i(" 制作包含自定义配置的HDP包")],-1);function z(D,H){const d=n("RouterLink"),c=n("ExternalLinkIcon");return t(),s("div",null,[_,e("div",m,[v,e("p",null,[i("自定义安装表单项的具体说明，可以查看 "),a(d,{to:"/houzzkitos/custom_docker_installation.html"},{default:r(()=>[i("自定义安装")]),_:1})])]),k,e("ul",null,[b,f,e("li",null,[i("具体选择哪一个开源协议，可以参考 "),e("a",g,[i("choosealicense"),a(c)])])]),x,e("p",null,[i("按照本文档上面的步骤，开发者可以快速制作一个hdp包，并分享给其他HOS用户。想要制作包含自定义配置的hdp包，请继续参考"),a(d,{to:"/developers/houzzkit_docker_package_make_advance.html"},{default:r(()=>[i("HDP安装包制作(高级)")]),_:1})])])}const P=l(p,[["render",z],["__file","houzzkit_docker_package_make.html.vue"]]);export{P as default};
